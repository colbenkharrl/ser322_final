<!doctype html>
<html lang="en">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="styles/bootstrap.min.css">

	<link rel="stylesheet" href="styles/index.css">
	<title>MyTunes - Band Form</title>
</head>

<body>
	<div id="navbar"></div>
	<div class="form-container card">
		<div class="table-detail">
			<h2 class="table-title">New Band</h2>
		</div>
		<form class="form-section needs-validation" action="php/add_band.php" method="post" novalidate>
			<div class="form-group">
				<label for="bandNameInput">Band Name<span class="req">*</span></label>
				<input name="band_name" type="text" class="form-control" id="bandNameInput" aria-describedby="name" placeholder="Enter band name" required>
			</div>
			<div class="form-group">
				<label for="genreInput">Genre<span class="req">*</span></label>
				<input name="genre" type="text" class="form-control" id="genreInput" aria-describedby="name" placeholder="Enter genre" required>
			</div>
			<div class="form-group">
				<label for="startDateInput">Date Formed<span class="req">*</span></label>
				<input name="start_date" type="date" class="form-control" id="startDateInput" required>
			</div>
			<div class="form-group">
				<label for="lengthInput">Date Dissolved</label>
				<input name="end_date" type="date" class="form-control" id="dateInput">
			</div>
			<div class="form-group">
				<label for="membersInput">Band Members<span class="req">*</span></label>
				<select name="members[]" multiple class="form-control" id="membersInput" required>
				</select>
			</div>
			<button type="submit" class="btn btn-primary">Add</button>
			<button type="button" class="btn btn-secondary" onClick="document.location.href='list-bands.html';">Cancel</button>
		</form>
	</div>
	<div id="footer"></div>
	<script src="js/jquery.min.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="js/components.js"></script>
	<script src="js/validate.js"></script>
	<script>
		$.get("php/get_musicians.php", function (d) {
			data = JSON.parse(d);
			data.forEach(function(t) {
				$('#membersInput').append('<option>' + t.firstName + ' ' + t.lastName + '</option>');
			});
		});
	</script>
</body>

</html>